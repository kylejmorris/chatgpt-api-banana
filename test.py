import requests

session_id = "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..gOTNnwLjmmrPbgcF.87wbu9u7l60S0K_lXe5kQLSEAXyU3QcIW3AFZjCpOZ2CUeBndqhsSocGb_Kkym7XvzZN470d9fPmQqFc6QBWbqfnLT60gkuR6lKAVVudI7ibqzHLHF7Ur8y_OV1Cr483CoeY0z1EZ-hiFJH8_ZikUBHHJtMsjd0J2TPbSxd3yEwb5z6OdQPDaSJfasoycEno035DED8XujsQiIEpGTmm2xBzA66dGJgKI-iBgGKQWMOG1CP0Lh4zKoqd_8ycdojdQlZCfPjjrKvezdYHesxiX5wSUUWgexvex93XKx3QdQbnNjIjrorlqKGauh9fsrPjEX0O-6uiY451KBJTKzlvHRwvwoYAQBHf_S0xAG5MNocRDi9HZZayOueYKgJj-gpf_vxkqpDuAmdSVwcONeILfvJOE92XYUfuizvPu-gcp9eAp6fu8MroD-vIe1lb18chMs67Brzscpw-bcuhRCsKBYi72BeeNwbjxJW5Dy9Fkq-4TB8RNzj1ftafzrjwcvlUssxGZATwMGCBGGk-3rbFE9-f23U8B1Rh-h8O3jQOfn5WuU5pxMxbhwU2R9lJcNMH5lDZFdPPvew712pHJyW7pZJqKm87TWbHgjZ1JF65vYlhy7ZXdc0UTrvgKtNSs0m1hjSFtTCqMqkkP-1f0BuXmvK2TJbUFMxoBdJFKFm6PIA62M7nW0NrhzCWedt2-gc6ihXphRGfu9cvKVSKQgbs7YKTYVEOz6WIrez9ZdOpZ1zu_U1aUABQxhhV-z0zHOXbV7iC8lDFgJmDDtjWSNj6bu8w5Xw_QeIl1uAmzJB8O0zR4MlqcB9XVu4uE1p9mVisr0gGaXpBf-e72dMcV2fXWS6yFn_Rqc6db70QmsjQyDT2IQMxmx_tnp83wFQ31AT5XEzQApolkHI1P8gYuYlQIN6wzUgnZa9uNIy73p2Jdo6zxaaFkphSeEJmpzHMZuB74HZzlKk2jMDpAUaA7EucIm2pxJAYLXqco8M8ZGdZdnIKrjFbqhBVa6qMI4pBt0l_hsazY2vPfN2UJtBdyDfuxMdnJgRGat8wci-XdKSjWQ1R5KSAiNoNi-4AIg8riolzLbtjTnHCF8jGJqsKOhM7m-dumM0W1y-EdHjqAIVjkHRpD-a9SbVW2V7LI6-4O2be922DuoYCRdAg6j99NvOfKW3jq3HbXE4nZM3axIda93mAbKshjkG2q2bXV5-VTRs90roIESneq_WMV284E5eT92IwHvoe-LCRtyBvidShDlTSKPPI87Mb1yt7YTd0yEnPqhKRNq5qkj9HnQqoJsWFLzPYeSDbi2CJM0787Be_CPpxKwMcfudf8bqKSldVRQ4vI8NTnoczw3bSMUTOV-x_c2wq_XyAJYEQRlatkj3pYn4SkdS0eLy4_x4TMp7hb5sUe-Yxs74j_eLXE5XoGFPnW2wlWIR9X9sc-YK32Js8moDMlNr9fXaQ45bIcNQ1W2huiMd8URmh5Ji1CiZ-zt6QdiDXUCXMslzzW_vKwXNgI5GEtT9DjfDhFT89qST_Z0PvQUMHb2DGOJJU43YT9kUAcZr1uCiLiKqaq--juznHJNOmu8iZeHzmyw7bIClEU8IPNxBgHulWnjvH84ZeQGiJE4IP_UyGNyMoCmxJx8REGyeuGF-wkntzJQrVZzJydc5ZkemH5Qh_lLUIbelzu40XFf2cci1akP7vN0sZkKzCtWOB16J-DFPONEwsumfHWeRc9-QNaCcmlkd3OTvg3NT0bz4SgNADCIqEQXdj5MHLvhphpA22aaP1Q9ykA1p5WL9mooP15-btijtG3jBY762Jz0PESWqg6Zepgts--8GNcJUf1FHSoD9-vLieXJYO3hFYncMkTZ6fDJAbgMUTCWp1-WYT2zxLVZa2lrJx1J6dgNjcjlp7ZVomraxd6QaVS9YlxnuWmro2TDV_hLXmI_s2WybBma6l7mhUnf286lgQ6QHioQEzUn-nXFXhhmV5O-WcBDHEQYgYjDVdDYqt3g2V-aE0U6HIHkmutb9EmrNXoQfsZ2HLJkk81wVeL5fDwL7TmYBqYaAwNPwvKPy6Oc-cSXIj_DWTIYn7Yh3W7ulBrWm9EioJv0Vk1vseyfSnMqcTo4NnuBjFO8nFea2RwuPcLwKwoJnANuTFDR4qIYFynqmEuVMXNcj8SYzYFxsbgMj_t0JNj2PSRUqkJeZPZRXDogGSRlFA3MmVpIweoYlg0xaqOeko04O7-01idXFHDPrnRjVePoZY6Z9i64K3KgJoXh06B_IDvPyT2OxKrVIC5dhiCuiePRIdQ18JQyMYMoCf9gXVhrMTlKzzxn5qNeZFpKR_._pi8vxiyzoAeVRPowxnXqQ"

def chat(msg, conversation_id=None, parent_id=None): 
    print("sending request with message: " + msg, "conversation_id: " + str(conversation_id), "parent_id: " + str(parent_id))
    res = requests.post('http://localhost:8000', json={'prompt': msg, 'session_id': session_id, "conversation_id": conversation_id, "parent_id": parent_id})
    res = res.json()
    print(res)
    print("\n\n")
    return res['message'], res.get("conversation_id", ""), res.get("parent_id", "")

response, conversation_id, parent_id = chat("What is the most important topic in chemistyr?")
response = chat("can you list one more example?", conversation_id, parent_id)
